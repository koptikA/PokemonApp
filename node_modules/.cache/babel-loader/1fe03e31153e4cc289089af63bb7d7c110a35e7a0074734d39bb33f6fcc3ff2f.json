{"ast":null,"code":"import { ACTION_TYPES } from \"../actions/\";\nexport const loginInitialState = {\n  isAuth: !!localStorage.getItem(\"token\"),\n  isLoading: false,\n  errors: null,\n  token: localStorage.getItem(\"token\") || null,\n  userInfo: {}\n};\nexport const loginPageReducer = (state = loginInitialState, action) => {\n  switch (action.type) {\n    case ACTION_TYPES.LOGIN_LOADING:\n      return {\n        ...state,\n        loginPage: {\n          ...state.loginPage,\n          isLoading: true,\n          errors: null\n        }\n      };\n    case ACTION_TYPES.LOGIN_SUCCESS:\n      const {\n        data: loginData\n      } = action.payload;\n      const {\n        accessToken,\n        ...userInfo\n      } = loginData;\n      localStorage.setItem(\"token\", accessToken);\n      return {\n        ...state,\n        loginPage: {\n          ...state.loginPage,\n          isLoading: false,\n          isAuth: true,\n          token: accessToken,\n          userInfo: userInfo\n        }\n      };\n    case ACTION_TYPES.LOGIN_FAIL:\n      return {\n        ...state,\n        loginPage: {\n          ...state.loginPage,\n          isLoading: false,\n          isAuth: false,\n          errors: action.payload\n        }\n      };\n    case ACTION_TYPES.LOGOUT:\n      localStorage.removeItem(\"token\");\n      return {\n        ...state,\n        loginPage: {\n          ...state.loginPage,\n          isAuth: false,\n          errors: null,\n          isLoading: false,\n          userInfo: {}\n        }\n      };\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ACTION_TYPES","loginInitialState","isAuth","localStorage","getItem","isLoading","errors","token","userInfo","loginPageReducer","state","action","type","LOGIN_LOADING","loginPage","LOGIN_SUCCESS","data","loginData","payload","accessToken","setItem","LOGIN_FAIL","LOGOUT","removeItem"],"sources":["C:/Users/Lenovo/Desktop/pokemons/my-app/src/pages/login/reducers/index.js"],"sourcesContent":["import { ACTION_TYPES } from \"../actions/\";\r\n\r\nexport const loginInitialState = {\r\n  isAuth: !!localStorage.getItem(\"token\"),\r\n  isLoading: false,\r\n  errors: null,\r\n  token: localStorage.getItem(\"token\") || null,\r\n  userInfo: {},\r\n};\r\n\r\nexport const loginPageReducer = (state = loginInitialState, action) => {\r\n  switch (action.type) {\r\n    case ACTION_TYPES.LOGIN_LOADING:\r\n      return {\r\n        ...state,\r\n        loginPage: {\r\n          ...state.loginPage,\r\n          isLoading: true,\r\n          errors: null,\r\n        },\r\n      };\r\n\r\n    case ACTION_TYPES.LOGIN_SUCCESS:\r\n      const {data: loginData} = action.payload\r\n      const {accessToken, ...userInfo} = loginData;\r\n\r\n      localStorage.setItem(\"token\", accessToken);\r\n      return {\r\n        ...state,\r\n        loginPage: {\r\n          ...state.loginPage,\r\n          isLoading: false,\r\n          isAuth: true,\r\n          token: accessToken,\r\n          userInfo: userInfo,\r\n        },\r\n      };  \r\n\r\n    case ACTION_TYPES.LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        loginPage: {\r\n           ...state.loginPage,\r\n           isLoading: false,\r\n           isAuth: false,\r\n           errors: action.payload,\r\n        },\r\n      };        \r\n\r\n    case ACTION_TYPES.LOGOUT:\r\n      localStorage.removeItem(\"token\");\r\n\r\n      return {\r\n        ...state,\r\n        loginPage: {\r\n          ...state.loginPage,\r\n          isAuth: false,\r\n          errors: null,\r\n          isLoading: false, \r\n          userInfo: {},\r\n        },\r\n      };\r\n\r\n      default: return state\r\n  }\r\n}"],"mappings":"AAAA,SAASA,YAAY,QAAQ,aAAa;AAE1C,OAAO,MAAMC,iBAAiB,GAAG;EAC/BC,MAAM,EAAE,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACvCC,SAAS,EAAE,KAAK;EAChBC,MAAM,EAAE,IAAI;EACZC,KAAK,EAAEJ,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI;EAC5CI,QAAQ,EAAE,CAAC;AACb,CAAC;AAED,OAAO,MAAMC,gBAAgB,GAAGA,CAACC,KAAK,GAAGT,iBAAiB,EAAEU,MAAM,KAAK;EACrE,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAKZ,YAAY,CAACa,aAAa;MAC7B,OAAO;QACL,GAAGH,KAAK;QACRI,SAAS,EAAE;UACT,GAAGJ,KAAK,CAACI,SAAS;UAClBT,SAAS,EAAE,IAAI;UACfC,MAAM,EAAE;QACV;MACF,CAAC;IAEH,KAAKN,YAAY,CAACe,aAAa;MAC7B,MAAM;QAACC,IAAI,EAAEC;MAAS,CAAC,GAAGN,MAAM,CAACO,OAAO;MACxC,MAAM;QAACC,WAAW;QAAE,GAAGX;MAAQ,CAAC,GAAGS,SAAS;MAE5Cd,YAAY,CAACiB,OAAO,CAAC,OAAO,EAAED,WAAW,CAAC;MAC1C,OAAO;QACL,GAAGT,KAAK;QACRI,SAAS,EAAE;UACT,GAAGJ,KAAK,CAACI,SAAS;UAClBT,SAAS,EAAE,KAAK;UAChBH,MAAM,EAAE,IAAI;UACZK,KAAK,EAAEY,WAAW;UAClBX,QAAQ,EAAEA;QACZ;MACF,CAAC;IAEH,KAAKR,YAAY,CAACqB,UAAU;MAC1B,OAAO;QACL,GAAGX,KAAK;QACRI,SAAS,EAAE;UACR,GAAGJ,KAAK,CAACI,SAAS;UAClBT,SAAS,EAAE,KAAK;UAChBH,MAAM,EAAE,KAAK;UACbI,MAAM,EAAEK,MAAM,CAACO;QAClB;MACF,CAAC;IAEH,KAAKlB,YAAY,CAACsB,MAAM;MACtBnB,YAAY,CAACoB,UAAU,CAAC,OAAO,CAAC;MAEhC,OAAO;QACL,GAAGb,KAAK;QACRI,SAAS,EAAE;UACT,GAAGJ,KAAK,CAACI,SAAS;UAClBZ,MAAM,EAAE,KAAK;UACbI,MAAM,EAAE,IAAI;UACZD,SAAS,EAAE,KAAK;UAChBG,QAAQ,EAAE,CAAC;QACb;MACF,CAAC;IAED;MAAS,OAAOE,KAAK;EACzB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}